{% extends 'base.html' %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-md-8">
    <div class="card shadow p-4 bg-white">
      <h2 class="mb-3" style="color:#6d28d9;">{{ room.title }}</h2>
      <p>{{ room.description }}</p>
      <p><strong>Location:</strong> {{ room.location }}</p>
      <p><strong>Type:</strong> {{ room.room_type }}</p>
      <p><strong>Price:</strong> Rs. {{ room.price }}</p>

      <h5 class="mt-3">Images</h5>
      <div class="d-flex flex-wrap gap-2 mb-3">
        {% for img in room.images.all %}
          <img src="{{ img.image.url }}" width="180" class="rounded">
        {% endfor %}
      </div>

      <p><strong>Owner:</strong> {{ room.owner_name }}</p>
      <p><strong>Contact:</strong> {{ room.contact_number }}</p>

      {% if user == room.owner %}
        <a href="{% url 'edit_room' room.id %}" class="btn btn-warning me-2">Edit</a>
        <a href="{% url 'delete_room' room.id %}" class="btn btn-danger">Delete</a>
      {% endif %}

{% if user.is_authenticated %}
  {% if user != room.owner %}
    <a href="{% url 'book_room' room.id %}" class="btn btn-success">
      Book Now
    </a>
  {% endif %}
{% else %}
  <a href="{% url 'login' %}?next={{ request.path }}" class="btn btn-success">
    Book Now
  </a>
{% endif %}

    </div>
  </div>
</div>
{% endblock %}
